import { cn } from "@/lib/utils";

type LogoSize = "xs" | "sm" | "md" | "lg" | "xl";
type LogoType = "primary" | "shorthand";

const sizeMap: Record<LogoSize, number> = {
  xs: 16,
  sm: 24,
  md: 32,
  lg: 40,
  xl: 48,
};

// Primary wordmark aspect ratio from the Figma viewBox (128:48)
const PRIMARY_RATIO = 128 / 48;

interface LogoProps extends Omit<React.SVGProps<SVGSVGElement>, "type"> {
  type?: LogoType;
  size?: LogoSize;
  invert?: boolean;
}

function Logo({
  className,
  type = "primary",
  size = "md",
  invert = false,
  ...props
}: LogoProps) {
  const h = sizeMap[size];
  const colorClass = invert ? "text-white" : "text-brand-700";

  if (type === "shorthand") {
    return (
      <svg
        viewBox="0 0 22.8342 30.85"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        role="img"
        aria-label="Addi"
        className={cn(colorClass, className)}
        width={h}
        height={h}
        {...props}
      >
        <path
          d="M11.4221 0C5.12441 0 0 5.08363 0 11.3312V27.4974C0 29.3478 1.51426 30.85 3.3795 30.85C5.24475 30.85 6.75901 29.3478 6.75901 27.4974V21.6278H16.0752V27.4974C16.0752 29.3478 17.5895 30.85 19.4547 30.85C21.32 30.85 22.8342 29.3478 22.8342 27.4974V11.3312C22.8342 5.08363 17.7098 0 11.4121 0H11.4221ZM16.0852 14.9226H6.75901V11.3312C6.75901 8.78444 8.8549 6.70522 11.4221 6.70522C13.9893 6.70522 16.0852 8.78444 16.0852 11.3312V14.9226Z"
          fill="currentColor"
        />
      </svg>
    );
  }

  // Primary (default)
  const w = Math.round(h * PRIMARY_RATIO);

  return (
    <svg
      viewBox="0 0 128 48"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      role="img"
      aria-label="Addi"
      className={cn(colorClass, className)}
      width={w}
      height={h}
      {...props}
    >
      <path
        d="M16.2424 4.11694C7.28699 4.11694 0 11.3459 0 20.2301V43.2186C0 45.8499 2.1533 47.9861 4.8057 47.9861C7.45811 47.9861 9.61141 45.8499 9.61141 43.2186V34.872H22.8592V43.2186C22.8592 45.8499 25.0125 47.9861 27.6649 47.9861C30.3173 47.9861 32.4706 45.8499 32.4706 43.2186V20.2301C32.4706 11.3459 25.1836 4.11694 16.2282 4.11694H16.2424ZM22.8734 25.3371H9.61141V20.2301C9.61141 16.6085 12.5918 13.6519 16.2424 13.6519C19.893 13.6519 22.8734 16.6085 22.8734 20.2301V25.3371Z"
        fill="currentColor"
      />
      <path
        d="M66.9804 0C64.328 0 62.1747 2.13616 62.1747 4.76746V14.3307C59.6649 13.015 56.8129 12.2653 53.7754 12.2653C43.8503 12.2653 35.7648 20.2723 35.7648 30.1326C35.7648 39.9929 43.8361 48 53.7754 48C63.7148 48 71.7861 39.9929 71.7861 30.1326V4.76746C71.7861 2.13616 69.6328 0 66.9804 0ZM53.7897 38.4651C49.1694 38.4651 45.3904 34.7303 45.3904 30.1326C45.3904 25.5349 49.1551 21.8002 53.7897 21.8002C58.4243 21.8002 62.189 25.5349 62.189 30.1326C62.189 34.7303 58.4243 38.4651 53.7897 38.4651Z"
        fill="currentColor"
      />
      <path
        d="M106.267 0C103.615 0 101.462 2.13616 101.462 4.76746V14.3307C98.9519 13.015 96.0999 12.2653 93.0624 12.2653C83.1373 12.2653 75.0517 20.2723 75.0517 30.1326C75.0517 39.9929 83.123 48 93.0624 48C103.002 48 111.073 39.9929 111.073 30.1326C111.073 30.1326 111.073 30.1185 111.073 30.1043C111.073 30.1043 111.073 30.1043 111.073 30.0902V4.76746C111.073 2.13616 108.92 0 106.267 0ZM93.0624 38.4651C88.4421 38.4651 84.6631 34.7303 84.6631 30.1326C84.6631 25.5349 88.4279 21.8002 93.0624 21.8002C97.697 21.8002 101.462 25.5349 101.462 30.1326C101.462 34.7303 97.697 38.4651 93.0624 38.4651Z"
        fill="currentColor"
      />
      <path
        d="M121.811 12.2935C125.234 12.2935 128 9.54907 128 6.15385C128 2.75862 125.234 0 121.811 0C118.389 0 115.608 2.74447 115.608 6.1397C115.608 9.53493 118.389 12.2794 121.811 12.2794V12.2935Z"
        fill="currentColor"
      />
      <path
        d="M121.797 15.5759C119.144 15.5759 116.991 17.712 116.991 20.3433V43.2187C116.991 45.85 119.144 47.9861 121.797 47.9861C124.449 47.9861 126.602 45.85 126.602 43.2187V20.3433C126.602 17.712 124.449 15.5759 121.797 15.5759Z"
        fill="currentColor"
      />
    </svg>
  );
}

export { Logo };
export type { LogoProps, LogoSize, LogoType };
